package com.phase1.PracticeProject3;

import java.time.Duration;

import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.chrome.ChromeDriver;
import org.openqa.selenium.support.ui.WebDriverWait;

public class phase_1PracticeProject3 {
	
		static WebDriver driver;
		static WebDriverWait wait;
	
	
			public static void main(String[] args) throws InterruptedException {

				setUp();
				handling();			
	}
			
			public static void setUp() {

				// step1: formulate a test domain url & driver path
				String siteUrl = "https://www.makemytrip.com/ ";
				String driverPath = "drivers/windows/chromedriver.exe";

				// step2: set system properties for selenium dirver
				System.setProperty("webdriver.chrome.driver", driverPath);

				// step3: instantiate selenium webdriver
				driver = new ChromeDriver();

				// step4: add explicit wait (Conditional Delay)
				wait = new WebDriverWait(driver, Duration.ofSeconds(40));

				// step5: launch browser
				driver.get(siteUrl);
				
				
			}
			
			public static void handling() throws InterruptedException {
				
			
			
			// Clear the source text box
			
			WebElement path1=driver.findElement(By.xpath("//div[@class='main-wrapper search-box-wrapper']/descendant::input[1]"));
					path1.clear();
		
		// enter input string in text box
			
					WebElement path2=driver.findElement(By.xpath("//div[@class='main-wrapper search-box-wrapper']/descendant::input[1]"));
					path2.sendKeys("London");
					
					Thread.sleep(5000);
					// capture element form the list
					WebElement path3=	driver.findElement(By.xpath("//div[@class='autoFill autosuggest-ul rdc-src']/descendant::li[3]"));
							path3.click();
					
					// destination
			driver.findElement(By.xpath("//div[@class='main-wrapper search-box-wrapper']/descendant::input[2]")).clear();
			
			driver.findElement(By.xpath("//div[@class='main-wrapper search-box-wrapper']/descendant::input[2]")).sendKeys("London");
				
			
			
			driver.findElement(By.xpath("//div[@class='autoFill autosuggest-ul rdc-dest']/descendant::li[3]")).click();
				
			//calander
			
			Thread.sleep(3000);
			
			driver.findElement(By.id("date-box")).click();
			
			Thread.sleep(5000);
			
			//Select date
			
			driver.findElement(By.xpath("//div[@class='DatePicker__CalendarContainer-sc-1x9sb82-0 bkhtIz']/descendant::span[41]")).click();
			
					   Thread.sleep(5000);	
					   
					   //click on search button
					   driver.findElement(By.id("search_butn")).click();
	
			}

}
